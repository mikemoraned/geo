# January

* [x] show multiple sources at once (multiple cities)
    * [x] extract named `RegionSource` which has name of source and url, and `RegionGroup` which contains the resulting regions and an associated name
    * [x] switch to center map explicitly on a lat/lon as opposed to based on centroids (avoids having to choose one automatically)
    * [x] accept multiple sources and extract Regions from all of them
    * [x] switch the generation of GeoJSON for centroids to be done in Rust rather than JS (this is a pre-amble to doing same thing for Regions)
    * [x] display Regions which are union of Regions from all sources (using geojson generated by Rust)
    * [x] disable fetching of similar regions whilst flying between areas
    * [x] whilst still a bit slow, only show a subset of cities (edinburgh, paris)

* [x] cleanups and speedups
    * [x] optimise by:
        * [x] pregenerating where possible in domain layers
        * [x] passing geojson to JS as string, which is then parsed on JS side, as docs for wasm serde imply that as a lot of back-and-forth across the JS/WASM layer
    * [x] make domain layers clean of wasm-specific annotations
        * [x] move any console logging to use generate tracing/logging which is bridged to wasm console logging
    * [x] apply clippy lints

* [x] blog post on recent changes
    * [x] blog post

# February

* [/] add hamburg
    * [x] make Justfile more generic
    * [x] separate `data` into `config` and `output` dirs
    * [/] refactor: make `routing` crate repeatable and stable
    * [/] outstanding problem with running `just --set area hamburg --set profile auto all` (will solve later)

## March/May/June

* [x] change `routing` to use OvertureMaps (OM) for definition of the city boundaries
  * [x] check I can load OM data and use it
    * [x] load `division_area` into datafusion and count the rows
    * [x] convert geometry column in WKB binary format into geo types
  * [x] update bounding-box bounds of cities to be defined based on reading the city from OM
    * [x] did this for edinburgh only
  * [x] update random sampling to use actual city boundary geometry (not the rectangular bounds)
  * [x] reconsider different, less arbitary, solution for "enforce variant of being same length by truncating each as needed" 
  * [x] update all city bounds to be specified by reference to OM GERS id
  * [x] clamp routes to only those wholly contained within city shape
  * [x] update Linzer to use these new regions

* [ ] filter out water areas
  * [ ] use water areas from OM as definition of holes in city shape
    * [ ] load some definition of water from OM and dump out for a GERS id region
      * [x] just bounding box
      * [ ] clipped by (multi)polygon region
        * [x] try simple "contains" (missing some areas which are water but not wholly contained)
        * [x] do intersection with region
        * [ ] need to adjust bbox pre-filter on overturemaps to include overlapping bounding boxes, as it it is currently finding water regions whollely contained
        by the bounding box of the city
    * [ ] update sampler to not include start/end points that are in water
    * [ ] update route finder to filter out routes that cross water
    * [ ] region finder to treat water areas as boundaries for a region
  * [ ] update Linzer to use these new regions

* [ ] housekeeping
  * [ ] upgrade to latest version of libraries in Linzer

* [ ] blog post on recent changes
    * [ ] blog post
    * [ ] add tags ability to blog
    * [ ] update linzer app to link back to "linzer" tag on blog
